<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cpf.mapper.transaction.TraSpecialordersMapper" >
  <resultMap id="BaseResultMap" type="com.cpf.beans.transaction.TraSpecialorders" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="speorderid" property="speorderid" jdbcType="VARCHAR" />
    <result column="Specialid" property="specialid" jdbcType="VARCHAR" />
    <result column="createtime" property="createtime" jdbcType="DATE" />
    <result column="ordercode" property="ordercode" jdbcType="VARCHAR" />
    <result column="Sellerid" property="sellerid" jdbcType="VARCHAR" />
    <result column="buyerid" property="buyerid" jdbcType="VARCHAR" />
    <result column="Guaranteedamount" property="guaranteedamount" jdbcType="DOUBLE" />
    <result column="state" property="state" jdbcType="VARCHAR" />
    <result column="ispay" property="ispay" jdbcType="VARCHAR" />
    <result column="paytime" property="paytime" jdbcType="DATE" />
    <result column="buyername" property="buyername" jdbcType="VARCHAR" />
    <result column="buyerphone" property="buyerphone" jdbcType="VARCHAR" />
    <result column="buyeraddress" property="buyeraddress" jdbcType="VARCHAR" />
    <result column="Expresscompany" property="expresscompany" jdbcType="VARCHAR" />
    <result column="trackingnumber" property="trackingnumber" jdbcType="VARCHAR" />
    <result column="isok" property="isok" jdbcType="VARCHAR" />
  </resultMap>
 
 
  <resultMap id="OrderMessageMap" type="com.cpf.beans.transaction.OrderBean" >
    <!--给滚动消息使用的map-->
    <result column="productName" property="productName" jdbcType="VARCHAR" />
    <result column="dealPrice" property="dealPrice" jdbcType="VARCHAR" />
    <result column="productId" property="productId" jdbcType="VARCHAR" />
  </resultMap>
 
 <!-- 查询拍卖成功的滚动消息 -->
 <select id="findlatestOrderokList" resultMap="OrderMessageMap">
 		select p.productname productName,d.dealprice dealPrice,p.productid productId  from tra_specialorders t   left join tra_specialorders_details d on t.speorderid = d.speorderid 
	left join tra_product p on d.productid = p.productid where t.isok = '0' order by t.paytime desc  LIMIT 5 
 </select>
 
 
</mapper>